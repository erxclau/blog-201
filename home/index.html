<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <style>
      @import url("../static/css/main.css");
    </style>
  </head>
  <body>
    <main>
      <article>
        <header>
          <h1>My name is Eric Lau.</h1>
          <p>I am a<span id="dek"></span></p>
        </header>
      </article>
    </main>
    <script>
      window.onload = async () => {
        const $ = (s) => document.querySelector(s);
        const dek = $("#dek");
        const list = [
          "n engineering fellow at The Texas Tribune.",
          " co-managing online editor at The Michigan Daily.",
          " computer science student at the University of Michigan.",
        ];

        const delay = (ms) =>
          new Promise((res) => {
            setTimeout(res, ms);
          });

        async function* generateList() {
          let i = 0;
          while (true) {
            const len = list[i].length;
            yield list[i];
            await delay(750);
            i++;
            if (i === list.length) {
              i = 0;
            }
          }
        }

        for await (const c of generateList()) {
          const len = c.length;

          for await (const l of c) {
            dek.textContent += l;
            await delay(100);
          }

          await delay(500);

          for await (const l of c) {
            dek.textContent = dek.textContent.slice(0, -1);
            await delay(85);
          }
        }
      };
    </script>
  </body>
</html>
